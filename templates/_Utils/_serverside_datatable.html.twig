<script>

    {% set func = 'function (d) { var exportBody = GetDataToExport(); d.body.length = 0; d.body.push.apply(d.body, exportBody);}' %}
    {% set dataTableOptions = dataTableOptions|merge({
        language: {
            buttons: {
                colvis: "Colonnes"
            },
        },
        buttons: [
            {
                extend: "colvis",
                columns: ":not(.noVis)"
            },
            {
                extend: "excelHtml5",
                text: 'Exporter',
                exportOptions: {
                    autoFilter: true,
                    columns:  [':visible :not(:last-child)'],
                }
            },
        ],
    }) %}
</script>

{{ include('_Utils/_serverside_datatable_base.html.twig') }}
